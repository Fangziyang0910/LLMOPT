{
  "problem_id": "job_shop_scheduling_003",
  "metadata": {
    "problem_type": "Job Shop Scheduling Problem",
    "difficulty": "hard"
  },
  "problem_description": "In a cutting-edge computational research facility, fifteen scientific investigations require coordinated scheduling through specialized high-performance computing nodes. Each investigation consists of fifteen sequential computational phases that must be processed on specific nodes for precise durations, creating intricate scheduling challenges due to resource constraints and temporal dependencies. The facility operates under strict operational protocols where each computing node can handle only one phase at any given moment. The detailed computational workflow specifications are as follows: Investigation Alpha initiates at Node 7 for 94 minutes, advances to Node 13 for 66 minutes, proceeds to Node 5 for 10 minutes, continues to Node 8 for 53 minutes, moves to Node 4 for 26 minutes, transitions to Node 3 for 15 minutes, progresses to Node 11 for 65 minutes, advances to Node 12 for 82 minutes, proceeds to Node 9 for 10 minutes, continues to Node 15 for 27 minutes, moves to Node 10 for 93 minutes, transitions to Node 14 for 92 minutes, progresses to Node 6 for 96 minutes, advances to Node 1 for 70 minutes, and concludes at Node 2 for 83 minutes. Investigation Beta begins at Node 5 for 74 minutes, advances to Node 6 for 31 minutes, proceeds to Node 8 for 88 minutes, continues to Node 15 for 51 minutes, moves to Node 14 for 57 minutes, transitions to Node 9 for 78 minutes, progresses to Node 12 for 8 minutes, advances to Node 10 for 7 minutes, proceeds to Node 7 for 91 minutes, continues to Node 11 for 79 minutes, moves to Node 1 for 18 minutes, transitions to Node 4 for 51 minutes, progresses to Node 13 for 18 minutes, advances to Node 2 for 99 minutes, and concludes at Node 3 for 33 minutes. Investigation Gamma starts at Node 2 for 4 minutes, advances to Node 9 for 82 minutes, proceeds to Node 10 for 40 minutes, continues to Node 13 for 86 minutes, moves to Node 7 for 50 minutes, transitions to Node 12 for 54 minutes, progresses to Node 14 for 21 minutes, advances to Node 6 for 6 minutes, proceeds to Node 1 for 54 minutes, continues to Node 3 for 68 minutes, moves to Node 8 for 82 minutes, transitions to Node 11 for 20 minutes, progresses to Node 5 for 39 minutes, advances to Node 4 for 35 minutes, and concludes at Node 15 for 68 minutes. Investigation Delta commences at Node 6 for 73 minutes, advances to Node 3 for 23 minutes, proceeds to Node 10 for 30 minutes, continues to Node 7 for 30 minutes, moves to Node 11 for 53 minutes, transitions to Node 1 for 94 minutes, progresses to Node 14 for 58 minutes, advances to Node 5 for 93 minutes, proceeds to Node 8 for 32 minutes, continues to Node 15 for 91 minutes, moves to Node 12 for 30 minutes, transitions to Node 9 for 56 minutes, progresses to Node 13 for 27 minutes, advances to Node 2 for 92 minutes, and concludes at Node 4 for 9 minutes. Investigation Epsilon originates at Node 8 for 78 minutes, advances to Node 9 for 23 minutes, proceeds to Node 7 for 21 minutes, continues to Node 11 for 60 minutes, moves to Node 5 for 36 minutes, transitions to Node 10 for 29 minutes, progresses to Node 3 for 95 minutes, advances to Node 15 for 99 minutes, proceeds to Node 13 for 79 minutes, continues to Node 6 for 76 minutes, moves to Node 2 for 93 minutes, transitions to Node 14 for 42 minutes, progresses to Node 12 for 52 minutes, advances to Node 1 for 42 minutes, and concludes at Node 4 for 96 minutes. Investigation Zeta begins at Node 6 for 29 minutes, advances to Node 4 for 61 minutes, proceeds to Node 13 for 88 minutes, continues to Node 14 for 70 minutes, moves to Node 12 for 16 minutes, transitions to Node 5 for 31 minutes, progresses to Node 15 for 65 minutes, advances to Node 8 for 83 minutes, proceeds to Node 3 for 78 minutes, continues to Node 2 for 26 minutes, moves to Node 11 for 50 minutes, transitions to Node 1 for 87 minutes, progresses to Node 10 for 62 minutes, advances to Node 9 for 14 minutes, and concludes at Node 7 for 30 minutes. Investigation Eta initiates at Node 13 for 18 minutes, advances to Node 4 for 75 minutes, proceeds to Node 8 for 20 minutes, continues to Node 9 for 4 minutes, moves to Node 15 for 91 minutes, transitions to Node 7 for 68 minutes, progresses to Node 2 for 19 minutes, advances to Node 12 for 54 minutes, proceeds to Node 5 for 85 minutes, continues to Node 6 for 73 minutes, moves to Node 3 for 43 minutes, transitions to Node 11 for 24 minutes, progresses to Node 1 for 37 minutes, advances to Node 14 for 87 minutes, and concludes at Node 10 for 66 minutes. Investigation Theta starts at Node 12 for 32 minutes, advances to Node 6 for 52 minutes, proceeds to Node 1 for 9 minutes, continues to Node 8 for 49 minutes, moves to Node 13 for 61 minutes, transitions to Node 14 for 35 minutes, progresses to Node 15 for 99 minutes, advances to Node 2 for 62 minutes, proceeds to Node 3 for 6 minutes, continues to Node 9 for 62 minutes, moves to Node 5 for 7 minutes, transitions to Node 4 for 80 minutes, progresses to Node 10 for 3 minutes, advances to Node 7 for 57 minutes, and concludes at Node 11 for 7 minutes. Investigation Iota originates at Node 11 for 85 minutes, advances to Node 12 for 30 minutes, proceeds to Node 7 for 96 minutes, continues to Node 15 for 91 minutes, moves to Node 1 for 13 minutes, transitions to Node 2 for 87 minutes, progresses to Node 3 for 82 minutes, advances to Node 6 for 83 minutes, proceeds to Node 13 for 78 minutes, continues to Node 5 for 56 minutes, moves to Node 9 for 85 minutes, transitions to Node 8 for 8 minutes, progresses to Node 10 for 66 minutes, advances to Node 14 for 88 minutes, and concludes at Node 4 for 15 minutes. Investigation Kappa begins at Node 7 for 5 minutes, advances to Node 12 for 59 minutes, proceeds to Node 10 for 30 minutes, continues to Node 3 for 60 minutes, moves to Node 9 for 41 minutes, transitions to Node 1 for 17 minutes, progresses to Node 14 for 66 minutes, advances to Node 4 for 89 minutes, proceeds to Node 11 for 78 minutes, continues to Node 8 for 88 minutes, moves to Node 2 for 69 minutes, transitions to Node 13 for 45 minutes, progresses to Node 15 for 82 minutes, advances to Node 5 for 6 minutes, and concludes at Node 6 for 13 minutes. Investigation Lambda initiates at Node 5 for 90 minutes, advances to Node 8 for 27 minutes, proceeds to Node 14 for 1 minutes, continues to Node 1 for 8 minutes, moves to Node 6 for 91 minutes, transitions to Node 13 for 80 minutes, progresses to Node 7 for 89 minutes, advances to Node 9 for 49 minutes, proceeds to Node 15 for 32 minutes, continues to Node 11 for 28 minutes, moves to Node 4 for 90 minutes, transitions to Node 2 for 93 minutes, progresses to Node 12 for 6 minutes, advances to Node 10 for 35 minutes, and concludes at Node 3 for 73 minutes. Investigation Mu starts at Node 13 for 47 minutes, advances to Node 4 for 43 minutes, proceeds to Node 11 for 75 minutes, continues to Node 9 for 8 minutes, moves to Node 5 for 51 minutes, transitions to Node 8 for 3 minutes, progresses to Node 7 for 84 minutes, advances to Node 10 for 34 minutes, proceeds to Node 6 for 28 minutes, continues to Node 3 for 60 minutes, moves to Node 2 for 69 minutes, transitions to Node 15 for 45 minutes, progresses to Node 12 for 67 minutes, advances to Node 1 for 58 minutes, and concludes at Node 14 for 87 minutes. Investigation Nu commences at Node 9 for 65 minutes, advances to Node 14 for 62 minutes, proceeds to Node 11 for 97 minutes, continues to Node 3 for 20 minutes, moves to Node 4 for 31 minutes, transitions to Node 7 for 33 minutes, progresses to Node 10 for 33 minutes, advances to Node 1 for 77 minutes, proceeds to Node 12 for 50 minutes, continues to Node 2 for 80 minutes, moves to Node 5 for 48 minutes, transitions to Node 6 for 90 minutes, progresses to Node 8 for 75 minutes, advances to Node 15 for 96 minutes, and concludes at Node 13 for 44 minutes. Investigation Xi originates at Node 3 for 28 minutes, advances to Node 6 for 21 minutes, proceeds to Node 5 for 51 minutes, continues to Node 4 for 75 minutes, moves to Node 10 for 17 minutes, transitions to Node 2 for 89 minutes, progresses to Node 12 for 59 minutes, advances to Node 14 for 56 minutes, proceeds to Node 8 for 63 minutes, continues to Node 7 for 18 minutes, moves to Node 11 for 17 minutes, transitions to Node 15 for 30 minutes, progresses to Node 1 for 16 minutes, advances to Node 9 for 7 minutes, and concludes at Node 13 for 35 minutes. Investigation Omicron begins at Node 11 for 57 minutes, advances to Node 9 for 16 minutes, proceeds to Node 13 for 42 minutes, continues to Node 7 for 34 minutes, moves to Node 5 for 37 minutes, transitions to Node 2 for 26 minutes, progresses to Node 14 for 68 minutes, advances to Node 15 for 73 minutes, proceeds to Node 12 for 5 minutes, continues to Node 1 for 8 minutes, moves to Node 8 for 12 minutes, transitions to Node 4 for 87 minutes, progresses to Node 3 for 83 minutes, advances to Node 10 for 20 minutes, and concludes at Node 6 for 97 minutes. The computational scheduling system must adhere to fundamental operational principles governing investigation execution and resource allocation. Within each individual investigation, a strict sequential processing protocol requires that computational phases occur in their predetermined order, ensuring that no subsequent phase may begin until the previous phase has been fully completed. Simultaneously, the resource exclusivity principle mandates that each computational node can accommodate only one phase at any given moment, which prevents temporal overlap between phases regardless of their investigation origin. The facility management seeks to determine optimal temporal positioning for all computational phases, aiming to minimize the makespan - calculated as the maximum completion time across all investigations - thereby achieving superior computational resource utilization and reducing the overall research timeline to its optimal duration.",  
  "solution_format_description": "Print the following fields: - phase_initiation_times: start times for each investigation's computational phases. - research_completion_duration: total time to complete all investigations.",
  "structured_data": {
    "n_investigations": 15,
    "n_computational_nodes": 15,
    "phase_durations": [
      [94, 66, 10, 53, 26, 15, 65, 82, 10, 27, 93, 92, 96, 70, 83],
      [74, 31, 88, 51, 57, 78, 8, 7, 91, 79, 18, 51, 18, 99, 33],
      [4, 82, 40, 86, 50, 54, 21, 6, 54, 68, 82, 20, 39, 35, 68],
      [73, 23, 30, 30, 53, 94, 58, 93, 32, 91, 30, 56, 27, 92, 9],
      [78, 23, 21, 60, 36, 29, 95, 99, 79, 76, 93, 42, 52, 42, 96],
      [29, 61, 88, 70, 16, 31, 65, 83, 78, 26, 50, 87, 62, 14, 30],
      [18, 75, 20, 4, 91, 68, 19, 54, 85, 73, 43, 24, 37, 87, 66],
      [32, 52, 9, 49, 61, 35, 99, 62, 6, 62, 7, 80, 3, 57, 7],
      [85, 30, 96, 91, 13, 87, 82, 83, 78, 56, 85, 8, 66, 88, 15],
      [5, 59, 30, 60, 41, 17, 66, 89, 78, 88, 69, 45, 82, 6, 13],
      [90, 27, 1, 8, 91, 80, 89, 49, 32, 28, 90, 93, 6, 35, 73],
      [47, 43, 75, 8, 51, 3, 84, 34, 28, 60, 69, 45, 67, 58, 87],
      [65, 62, 97, 20, 31, 33, 33, 77, 50, 80, 48, 90, 75, 96, 44],
      [28, 21, 51, 75, 17, 89, 59, 56, 63, 18, 17, 30, 16, 7, 35],
      [57, 16, 42, 34, 37, 26, 68, 73, 5, 8, 12, 87, 83, 20, 97]
    ],
    "node_sequences": [
      [7, 13, 5, 8, 4, 3, 11, 12, 9, 15, 10, 14, 6, 1, 2],
      [5, 6, 8, 15, 14, 9, 12, 10, 7, 11, 1, 4, 13, 2, 3],
      [2, 9, 10, 13, 7, 12, 14, 6, 1, 3, 8, 11, 5, 4, 15],
      [6, 3, 10, 7, 11, 1, 14, 5, 8, 15, 12, 9, 13, 2, 4],
      [8, 9, 7, 11, 5, 10, 3, 15, 13, 6, 2, 14, 12, 1, 4],
      [6, 4, 13, 14, 12, 5, 15, 8, 3, 2, 11, 1, 10, 9, 7],
      [13, 4, 8, 9, 15, 7, 2, 12, 5, 6, 3, 11, 1, 14, 10],
      [12, 6, 1, 8, 13, 14, 15, 2, 3, 9, 5, 4, 10, 7, 11],
      [11, 12, 7, 15, 1, 2, 3, 6, 13, 5, 9, 8, 10, 14, 4],
      [7, 12, 10, 3, 9, 1, 14, 4, 11, 8, 2, 13, 15, 5, 6],
      [5, 8, 14, 1, 6, 13, 7, 9, 15, 11, 4, 2, 12, 10, 3],
      [13, 4, 11, 9, 5, 8, 7, 10, 6, 3, 2, 15, 12, 1, 14],
      [9, 14, 11, 3, 4, 7, 10, 1, 12, 2, 5, 6, 8, 15, 13],
      [3, 6, 5, 4, 10, 2, 12, 14, 8, 7, 11, 15, 1, 9, 13],
      [11, 9, 13, 7, 5, 2, 14, 15, 12, 1, 8, 4, 3, 10, 6]
    ]
  },
  "reference_solution": {
    "phase_initiation_times": [
      [5, 99, 167, 358, 434, 541, 556, 621, 703, 713, 744, 877, 978, 1078, 1148],
      [0, 102, 192, 310, 361, 418, 541, 554, 565, 656, 738, 756, 807, 861, 1187],
      [0, 117, 241, 281, 384, 549, 713, 768, 774, 828, 896, 978, 1000, 1039, 1149],
      [133, 222, 281, 354, 384, 495, 593, 651, 798, 830, 921, 954, 1010, 1053, 1193],
      [0, 78, 101, 239, 299, 335, 364, 460, 563, 665, 742, 835, 954, 1036, 1081],
      [0, 212, 367, 455, 525, 541, 572, 637, 720, 835, 861, 912, 999, 1170, 1184],
      [0, 18, 93, 113, 117, 219, 317, 336, 440, 774, 896, 939, 999, 1057, 1144],
      [1, 50, 103, 114, 166, 244, 361, 460, 556, 573, 635, 661, 741, 745, 911],
      [0, 93, 123, 219, 310, 336, 459, 582, 665, 744, 800, 885, 893, 969, 1178],
      [0, 33, 92, 122, 215, 256, 279, 345, 437, 515, 604, 743, 924, 1046, 1085],
      [177, 309, 345, 346, 354, 475, 656, 745, 794, 826, 854, 960, 1058, 1064, 1114],
      [18, 93, 299, 374, 382, 433, 436, 520, 554, 582, 673, 742, 787, 854, 1144],
      [0, 65, 142, 245, 273, 321, 364, 397, 474, 524, 840, 888, 978, 1053, 1149],
      [0, 29, 74, 136, 211, 228, 390, 651, 720, 802, 998, 1015, 1148, 1173, 1193],
      [85, 199, 227, 287, 335, 423, 525, 637, 725, 730, 843, 944, 1031, 1114, 1134]
    ],
    "research_completion_duration": 1231
  },
  "solver_code": "from cpmpy import *\nimport json\n\nn_investigations = 15\nn_computational_nodes = 15\nphase_durations = [\n    [94, 66, 10, 53, 26, 15, 65, 82, 10, 27, 93, 92, 96, 70, 83],\n    [74, 31, 88, 51, 57, 78, 8, 7, 91, 79, 18, 51, 18, 99, 33],\n    [4, 82, 40, 86, 50, 54, 21, 6, 54, 68, 82, 20, 39, 35, 68],\n    [73, 23, 30, 30, 53, 94, 58, 93, 32, 91, 30, 56, 27, 92, 9],\n    [78, 23, 21, 60, 36, 29, 95, 99, 79, 76, 93, 42, 52, 42, 96],\n    [29, 61, 88, 70, 16, 31, 65, 83, 78, 26, 50, 87, 62, 14, 30],\n    [18, 75, 20, 4, 91, 68, 19, 54, 85, 73, 43, 24, 37, 87, 66],\n    [32, 52, 9, 49, 61, 35, 99, 62, 6, 62, 7, 80, 3, 57, 7],\n    [85, 30, 96, 91, 13, 87, 82, 83, 78, 56, 85, 8, 66, 88, 15],\n    [5, 59, 30, 60, 41, 17, 66, 89, 78, 88, 69, 45, 82, 6, 13],\n    [90, 27, 1, 8, 91, 80, 89, 49, 32, 28, 90, 93, 6, 35, 73],\n    [47, 43, 75, 8, 51, 3, 84, 34, 28, 60, 69, 45, 67, 58, 87],\n    [65, 62, 97, 20, 31, 33, 33, 77, 50, 80, 48, 90, 75, 96, 44],\n    [28, 21, 51, 75, 17, 89, 59, 56, 63, 18, 17, 30, 16, 7, 35],\n    [57, 16, 42, 34, 37, 26, 68, 73, 5, 8, 12, 87, 83, 20, 97]\n]\nnode_sequences = [\n    [7, 13, 5, 8, 4, 3, 11, 12, 9, 15, 10, 14, 6, 1, 2],\n    [5, 6, 8, 15, 14, 9, 12, 10, 7, 11, 1, 4, 13, 2, 3],\n    [2, 9, 10, 13, 7, 12, 14, 6, 1, 3, 8, 11, 5, 4, 15],\n    [6, 3, 10, 7, 11, 1, 14, 5, 8, 15, 12, 9, 13, 2, 4],\n    [8, 9, 7, 11, 5, 10, 3, 15, 13, 6, 2, 14, 12, 1, 4],\n    [6, 4, 13, 14, 12, 5, 15, 8, 3, 2, 11, 1, 10, 9, 7],\n    [13, 4, 8, 9, 15, 7, 2, 12, 5, 6, 3, 11, 1, 14, 10],\n    [12, 6, 1, 8, 13, 14, 15, 2, 3, 9, 5, 4, 10, 7, 11],\n    [11, 12, 7, 15, 1, 2, 3, 6, 13, 5, 9, 8, 10, 14, 4],\n    [7, 12, 10, 3, 9, 1, 14, 4, 11, 8, 2, 13, 15, 5, 6],\n    [5, 8, 14, 1, 6, 13, 7, 9, 15, 11, 4, 2, 10, 3, 2],\n    [13, 4, 11, 9, 5, 8, 7, 10, 6, 3, 2, 15, 12, 1, 14],\n    [9, 14, 11, 3, 4, 7, 10, 1, 12, 2, 5, 6, 8, 15, 13],\n    [3, 6, 5, 4, 10, 2, 12, 14, 8, 7, 11, 15, 1, 9, 13],\n    [11, 9, 13, 7, 5, 2, 14, 15, 12, 1, 8, 4, 3, 10, 6]\n]\n\nmax_investigation_time = max(sum(phase_durations[i]) for i in range(n_investigations))\nnode_loads = {}\nfor i in range(n_investigations):\n    for j in range(n_computational_nodes):\n        node_id = node_sequences[i][j]\n        node_loads[node_id] = node_loads.get(node_id, 0) + phase_durations[i][j]\nmax_node_load = max(node_loads.values())\nlower_bound = max(max_investigation_time, max_node_load)\nupper_bound = sum(sum(phase_durations[i]) for i in range(n_investigations))\n\nif lower_bound > upper_bound:\n    lower_bound = upper_bound\n\nmodel = Model()\n\ninitiation = intvar(0, upper_bound, shape=(n_investigations, n_computational_nodes))\nresearch_completion_duration = intvar(lower_bound, upper_bound)\n\nfor i in range(n_investigations):\n    for j in range(n_computational_nodes - 1):\n        model += initiation[i][j+1] >= initiation[i][j] + phase_durations[i][j]\n\nphases_on_node = {}\nfor i in range(n_investigations):\n    for j in range(n_computational_nodes):\n        node_id = node_sequences[i][j]\n        if node_id not in phases_on_node:\n            phases_on_node[node_id] = []\n        phases_on_node[node_id].append((i, j))\n\nfor ops in phases_on_node.values():\n    if len(ops) > 1:\n        for k1 in range(len(ops)):\n            for k2 in range(k1 + 1, len(ops)):\n                i1, j1 = ops[k1]\n                i2, j2 = ops[k2]\n                model += (initiation[i1][j1] + phase_durations[i1][j1] <= initiation[i2][j2]) | (initiation[i2][j2] + phase_durations[i2][j2] <= initiation[i1][j1])\n\nfor i in range(n_investigations):\n    model += research_completion_duration >= initiation[i][n_computational_nodes-1] + phase_durations[i][n_computational_nodes-1]\n\nmodel.minimize(research_completion_duration)\n\nif model.solve():\n    phase_initiation_times = [[int(initiation[i][j].value()) for j in range(n_computational_nodes)] for i in range(n_investigations)]\n    result = {\n        \"phase_initiation_times\": phase_initiation_times,\n        \"research_completion_duration\": int(research_completion_duration.value())\n    }\n    print(json.dumps(result))",
  "evaluation_function": "def evaluate(candidate_solution, structured_data, reference_solution):\n    import json\n    \n    try:\n        solution = json.loads(candidate_solution) if isinstance(candidate_solution, str) else candidate_solution\n    except:\n        return {\"is_valid\": False, \"validation_errors\": [\"Invalid JSON format\"], \"optimality_score\": 0.0}\n    \n    required_fields = [\"phase_initiation_times\", \"research_completion_duration\"]\n    missing = [f for f in required_fields if solution is None or f not in solution]\n    if missing:\n        return {\"is_valid\": False, \"validation_errors\": [f\"Missing fields: {missing}\"], \"optimality_score\": 0.0}\n    \n    try:\n        phase_initiation_times = solution[\"phase_initiation_times\"]\n        research_completion_duration = solution[\"research_completion_duration\"]\n        n_investigations = structured_data[\"n_investigations\"]\n        n_computational_nodes = structured_data[\"n_computational_nodes\"]\n        phase_durations = structured_data[\"phase_durations\"]\n        node_sequences = structured_data[\"node_sequences\"]\n        errors = []\n        \n        if len(phase_initiation_times) != n_investigations:\n            errors.append(f\"Expected {n_investigations} investigations, got {len(phase_initiation_times)}\")\n        \n        for i, investigation_times in enumerate(phase_initiation_times):\n            if len(investigation_times) != n_computational_nodes:\n                errors.append(f\"Investigation {i} has {len(investigation_times)} phases, expected {n_computational_nodes}\")\n            if any(t < 0 for t in investigation_times):\n                errors.append(f\"Investigation {i} has negative initiation times\")\n        \n        if errors:\n            return {\"is_valid\": False, \"validation_errors\": errors, \"optimality_score\": 0.0}\n        \n        for i in range(n_investigations):\n            for j in range(n_computational_nodes - 1):\n                current_start = phase_initiation_times[i][j]\n                current_duration = phase_durations[i][j]\n                next_start = phase_initiation_times[i][j + 1]\n                if next_start < current_start + current_duration:\n                    errors.append(f\"Investigation {i}: phase {j+1} starts at {next_start} but phase {j} finishes at {current_start + current_duration}\")\n        \n        node_operations = {}\n        for i in range(n_investigations):\n            for j in range(n_computational_nodes):\n                node_id = node_sequences[i][j]\n                start_time = phase_initiation_times[i][j]\n                duration = phase_durations[i][j]\n                end_time = start_time + duration\n                \n                if node_id not in node_operations:\n                    node_operations[node_id] = []\n                node_operations[node_id].append((start_time, end_time, i, j))\n        \n        for node_id, ops in node_operations.items():\n            ops_sorted = sorted(ops, key=lambda x: x[0]) \n            for k in range(len(ops_sorted) - 1):\n                current_end = ops_sorted[k][1]\n                next_start = ops_sorted[k + 1][0]\n                if current_end > next_start:\n                    investigation1, phase1 = ops_sorted[k][2], ops_sorted[k][3]\n                    investigation2, phase2 = ops_sorted[k + 1][2], ops_sorted[k + 1][3]\n                    errors.append(f\"Node {node_id}: investigation {investigation1} phase {phase1} ends at {current_end} overlaps with investigation {investigation2} phase {phase2} starting at {next_start}\")\n        \n        if len(errors) == 0:\n            optimal_duration = reference_solution[\"research_completion_duration\"]\n            gap = abs(optimal_duration - research_completion_duration) / optimal_duration\n            optimality_score = max(0, 1 - gap)\n            return {\n                \"is_valid\": True,\n                \"validation_errors\": [],\n                \"optimality_score\": optimality_score\n            }\n        else:\n            return {\n                \"is_valid\": False,\n                \"validation_errors\": errors,\n                \"optimality_score\": 0.0\n            }\n        \n    except Exception as e:\n        return {\"is_valid\": False, \"validation_errors\": [\"Format error in solution data\"], \"optimality_score\": 0.0}"
}