{
  "problem_id": "generalised_assignment_003",
  "metadata": {
    "problem_type": "Generalised Assignment Problem",
    "difficulty": "hard"
  },
  "problem_description": "Within the intricate operational ecosystem of a multinational supply chain conglomerate, ten geographically dispersed logistical hubs operate with distinct fleet deployment capabilities: the Alpha hub can coordinate thirty-eight vehicle deployments, Beta hub thirty-five deployments, Gamma hub thirty-four deployments, Delta hub thirty-eight deployments, Epsilon hub thirty-one deployments, Zeta hub thirty-eight deployments, Eta hub thirty-six deployments, Theta hub thirty-nine deployments, Iota hub thirty-nine deployments, and Kappa hub thirty-three deployments. Thirty sophisticated distribution manifests present themselves for execution, each demonstrating unique revenue generation characteristics when managed by different logistical hubs. For instance, the initial manifest would generate eighteen revenue units through Alpha, twenty through Beta, eighteen through Gamma, twenty through Delta, twenty-four through Epsilon, twenty-one through Zeta, twenty-five through Eta, sixteen through Theta, twenty through Iota, and twenty-five through Kappa, while consuming fourteen, twenty-five, ten, twenty-five, twelve, fifteen, thirteen, fifteen, seventeen, and five vehicle deployment units respectively. This pattern of asymmetric revenue-deployment relationships continues throughout the manifest portfolio, with the second manifest showing revenues of twenty-four, twenty-one, twenty-one, twenty-two, eighteen, twenty, twenty-four, eighteen, sixteen, and twenty-two units across the ten hubs, requiring eighteen, twenty-five, eight, eleven, five, seventeen, twenty-four, thirteen, fourteen, and fourteen deployment units correspondingly. The third manifest demonstrates yet another configuration with revenues of eighteen, twenty-three, nineteen, twenty-four, twenty-four, twenty-five, twenty-three, twenty-five, twenty-five, and twenty-four units, consuming twenty, six, fifteen, twenty-three, thirteen, fifteen, seventeen, twenty-five, sixteen, and twenty-one deployment units respectively. Subsequent manifests follow similarly intricate patterns where the fourth manifest presents revenues of twenty-five, sixteen, fifteen, seventeen, sixteen, seventeen, twenty-two, twenty-five, nineteen, and twenty units with deployment requirements of sixteen, five, eight, nine, fourteen, ten, nineteen, twenty-three, seven, and nine units; the fifth shows revenues of eighteen, twenty-one, twenty-five, nineteen, twenty-four, twenty-one, seventeen, fifteen, seventeen, and eighteen units requiring eighteen, twenty-one, twelve, eighteen, five, twenty-four, twenty-one, sixteen, sixteen, and five deployment units; the sixth manifest yields revenues of eighteen, eighteen, twenty-two, eighteen, twenty-one, twenty-two, eighteen, twenty-two, twenty, and twenty-four units while consuming seventeen, twenty-five, twenty-five, eighteen, seven, twelve, twenty-four, eight, twenty, and ten deployment units. The seventh manifest demonstrates revenues of twenty-five, twenty-four, twenty-three, twenty-two, seventeen, eighteen, twenty-five, eighteen, eighteen, and seventeen units, requiring thirteen, twenty-four, seventeen, nineteen, twenty-one, eleven, fifteen, twenty-one, eleven, and thirteen deployment units respectively. The eighth manifest shows revenues of sixteen, eighteen, twenty-five, twenty-five, fifteen, twenty-two, eighteen, fifteen, nineteen, and seventeen units, consuming fifteen, seventeen, twenty-five, twenty-three, twenty-one, seven, twenty-four, eighteen, twenty, and twenty-four deployment units correspondingly. The ninth manifest presents revenues of twenty, sixteen, twenty-five, nineteen, seventeen, twenty, fifteen, sixteen, twenty-four, and seventeen units while requiring seventeen, thirteen, fourteen, seven, sixteen, sixteen, nineteen, twenty-two, twenty-three, and seventeen deployment units. The tenth manifest yields revenues of twenty-five, twenty-two, twenty-four, twenty, eighteen, twenty-four, twenty-three, seventeen, sixteen, and twenty-four units, consuming five, fourteen, twenty-one, nine, five, nine, sixteen, eleven, twenty-four, and fourteen deployment units respectively. The eleventh manifest shows revenues of twenty-one, twenty-two, twenty-one, twenty-two, seventeen, twenty-three, seventeen, twenty-three, twenty, and sixteen units, requiring nine, fifteen, sixteen, seventeen, twenty, eighteen, six, eight, twenty-four, and ten deployment units correspondingly. The twelfth manifest presents revenues of twenty, twenty-one, nineteen, twenty-two, sixteen, twenty-three, twenty-two, twenty, fifteen, and twenty-four units while consuming twenty-five, twelve, fifteen, twenty-four, six, twenty-five, nineteen, twenty, fifteen, and twenty-two deployment units. The thirteenth manifest yields revenues of seventeen, nineteen, twenty-five, twenty-four, twenty-two, eighteen, twenty-two, twenty-two, twenty-two, and fifteen units, requiring seven, nineteen, twenty-two, six, fifteen, sixteen, twenty-three, seven, eleven, and eighteen deployment units respectively. The fourteenth manifest demonstrates revenues of twenty, twenty-five, nineteen, seventeen, twenty-two, twenty-four, twenty-four, sixteen, twenty, and twenty-four units, consuming sixteen, five, twenty-five, ten, seven, twenty-four, eleven, thirteen, twenty, and nineteen deployment units correspondingly. The fifteenth manifest shows revenues of twenty, twenty, nineteen, twenty-five, twenty-four, twenty-one, seventeen, nineteen, fifteen, and seventeen units while requiring twenty-four, sixteen, fifteen, seventeen, seven, thirteen, sixteen, eighteen, twenty-four, and sixteen deployment units. The sixteenth manifest presents revenues of nineteen, sixteen, fifteen, fifteen, twenty-five, sixteen, twenty-one, eighteen, twenty-four, and sixteen units, requiring five, eight, twenty, eighteen, twenty-four, thirteen, fifteen, seventeen, twelve, and ten deployment units respectively. The seventeenth manifest yields revenues of twenty, eighteen, twenty-five, twenty-five, fifteen, seventeen, eighteen, seventeen, fifteen, and eighteen units, consuming nine, nineteen, sixteen, seven, twenty-three, sixteen, nineteen, seven, twenty-two, and six deployment units correspondingly. The eighteenth manifest demonstrates revenues of sixteen, twenty-five, sixteen, twenty-five, twenty-four, twenty-three, twenty-four, twenty, nineteen, and sixteen units, requiring thirteen, nine, eight, fourteen, seven, twenty-four, fourteen, twenty, nineteen, and twelve deployment units respectively. The nineteenth manifest shows revenues of nineteen, twenty-three, twenty-five, sixteen, eighteen, twenty-three, twenty-three, twenty-two, twenty-two, and seventeen units, consuming ten, eleven, eighteen, twenty-five, twenty-five, twenty-two, fourteen, fifteen, fifteen, and twenty deployment units correspondingly. The twentieth manifest presents revenues of twenty, seventeen, twenty, twenty-four, eighteen, twenty-three, twenty-one, fifteen, eighteen, and twenty-one units while consuming eight, six, twenty-one, twenty-three, nine, thirteen, six, twenty, six, and fourteen deployment units. The twenty-first manifest yields revenues of twenty-two, twenty-one, twenty-three, nineteen, twenty-two, nineteen, twenty-two, twenty-one, nineteen, and twenty-four units, requiring twenty-four, fifteen, twenty-two, nine, thirteen, twenty-three, eleven, fifteen, twenty-five, and twelve deployment units respectively. The twenty-second manifest demonstrates revenues of twenty, twenty, twenty-two, twenty-five, eighteen, twenty-two, twenty-two, twenty-two, twenty-five, and twenty-one units, consuming twenty, twenty-two, seventeen, seven, sixteen, twenty-two, eight, fifteen, nineteen, and fourteen deployment units correspondingly. The twenty-third manifest shows revenues of twenty-four, seventeen, seventeen, twenty-two, twenty-three, sixteen, sixteen, nineteen, twenty-one, and seventeen units while requiring twenty-one, seven, twelve, fifteen, twenty-three, ten, seventeen, nine, thirteen, and twenty-one deployment units respectively. The twenty-fourth manifest presents revenues of twenty-one, eighteen, twenty-three, fifteen, twenty-three, twenty-two, twenty, twenty-two, twenty-one, and twenty units while consuming eight, sixteen, eighteen, eight, eight, ten, sixteen, eight, thirteen, and twelve deployment units. The twenty-fifth manifest yields revenues of eighteen, sixteen, sixteen, eighteen, seventeen, sixteen, twenty-three, twenty-one, twenty-one, and twenty units, requiring eleven, twelve, eighteen, sixteen, six, nineteen, six, fourteen, thirteen, and sixteen deployment units correspondingly. The twenty-sixth manifest demonstrates revenues of twenty-two, twenty-one, twenty-five, seventeen, twenty, fifteen, twenty-four, eighteen, twenty-four, and twenty units, consuming twenty-two, fifteen, sixteen, seventeen, fourteen, sixteen, fifteen, twenty-five, twenty-two, and seventeen deployment units respectively. The twenty-seventh manifest shows revenues of twenty-two, nineteen, sixteen, twenty, seventeen, twenty-two, nineteen, twenty-two, twenty-three, and seventeen units while requiring twenty-four, eighteen, five, fifteen, ten, twenty-two, twenty-three, fourteen, nine, and sixteen deployment units correspondingly. The twenty-eighth manifest presents revenues of twenty-four, twenty-three, twenty-five, twenty-four, fifteen, twenty-three, sixteen, twenty-four, twenty-four, and sixteen units while requiring thirteen, eleven, twenty-four, eleven, ten, fifteen, twenty-three, ten, twenty-one, and eighteen deployment units respectively. The twenty-ninth manifest yields revenues of nineteen, sixteen, twenty-four, twenty-one, twenty-three, twenty-four, seventeen, twenty-one, twenty-four, and eighteen units, consuming thirteen, seventeen, eleven, twenty-four, twenty-three, twenty-one, fourteen, eight, seventeen, and eight deployment units correspondingly. The thirtieth manifest shows revenues of sixteen, twenty-four, seventeen, twenty-three, twenty-two, twenty-four, twenty-two, eighteen, nineteen, and twenty-one units, consuming fourteen, five, six, seventeen, thirteen, seven, eleven, sixteen, seventeen, and twenty-two deployment units respectively. This complex network of asymmetric revenue-deployment relationships requires strategic allocation decisions to maximize total revenue generation while respecting each hub's deployment capacity constraints. Each manifest must be exclusively assigned to a single hub, and no hub may exceed its designated vehicle deployment capacity.",
  "solution_format_description": "Print the following fields: - manifest_hub_assignments: hub assignment for each manifest. - total_revenue: total revenue generated across all manifests.",
  "structured_data": {
    "num_hubs": 10,
    "num_manifests": 30,
    "revenue_matrix": [
      [18,24,18,25,18,18,18,17,25,16,21,20,17,20,20,19,20,16,19,20,22,20,24,21,18,22,22,24,19,16],
      [20,21,23,16,21,18,20,25,15,21,22,21,19,25,20,16,18,25,23,17,21,20,17,18,16,21,19,23,16,24],
      [18,21,19,15,25,22,15,20,18,24,21,19,25,19,19,15,15,16,25,20,23,22,17,23,16,25,16,25,24,17],
      [20,22,24,17,19,18,15,15,21,23,22,22,24,17,25,15,25,25,16,24,19,25,22,15,18,17,20,24,21,23],
      [24,18,24,16,24,21,16,15,19,25,17,16,22,22,24,25,15,19,18,18,22,18,23,23,17,20,17,15,23,22],
      [21,20,25,17,21,22,23,23,15,23,23,23,18,24,21,25,16,17,23,23,19,22,16,22,16,15,22,22,23,24],
      [25,24,23,22,17,18,25,18,18,17,17,22,22,24,17,21,18,24,23,21,22,22,16,16,23,24,19,16,17,22],
      [16,18,25,25,15,22,18,15,19,17,23,20,22,16,19,18,17,20,23,15,21,22,19,22,21,18,22,24,21,18],
      [20,16,25,19,17,20,15,16,24,17,20,15,22,20,15,24,15,19,22,18,19,25,19,21,21,24,22,23,24,19],
      [25,22,24,20,18,24,23,17,16,24,16,24,15,24,17,16,18,16,17,21,24,21,17,20,16,20,17,16,18,21]
    ],
    "deployment_requirement_matrix": [
      [14,18,20,16,18,17,21,25,16,22,9,25,7,16,24,5,9,13,10,8,24,20,21,8,11,22,24,13,13,14],
      [25,25,6,5,21,25,24,12,14,19,15,12,19,5,16,8,19,9,11,6,15,22,16,7,12,15,21,18,17,5],
      [10,8,15,8,12,25,8,19,12,11,16,15,22,25,15,20,16,8,18,21,22,17,12,18,5,5,5,24,11,6],
      [25,11,23,9,18,18,19,25,25,16,17,24,6,10,17,18,7,14,25,23,9,7,12,8,16,17,15,11,24,17],
      [12,5,13,14,5,7,10,21,8,12,20,6,15,7,7,24,23,7,25,15,13,16,6,23,8,14,10,10,23,13],
      [15,17,15,10,24,12,10,8,22,10,18,25,16,24,17,13,16,24,22,13,23,22,10,9,19,16,12,15,21,7],
      [13,24,17,19,21,11,15,21,11,13,6,19,23,11,16,15,19,14,17,6,11,8,16,17,6,15,23,23,14,11],
      [15,17,25,23,21,7,24,18,20,24,8,20,7,22,17,17,7,20,15,20,15,15,8,9,14,25,20,14,10,16],
      [17,13,14,7,16,16,19,22,23,17,24,22,11,13,22,12,22,19,15,6,21,14,21,13,21,13,9,21,8,17],
      [5,14,21,9,5,9,16,11,24,14,10,22,18,19,16,10,6,12,7,14,12,22,12,21,19,16,9,15,8,22]
    ],
    "hub_deployment_capacities": [38,35,34,38,31,38,36,39,39,33]
  },
  "reference_solution": {
    "manifest_hub_assignments": [10,1,6,8,5,10,7,6,3,1,8,2,4,2,4,9,4,2,3,6,10,4,5,8,7,7,9,1,9,2],
    "total_revenue": 720
  },
  "solver_code": "from cpmpy import *\nimport json\n\nnum_hubs = 10\nnum_manifests = 30\n\nrevenue_matrix = [\n    [18, 24, 18, 25, 18, 18, 18, 17, 25, 16, 21, 20, 17, 20, 20, 19, 20, 16, 19, 20, 22, 20, 24, 21, 18, 22, 22, 24, 19, 16],\n    [20, 21, 23, 16, 21, 18, 20, 25, 15, 21, 22, 21, 19, 25, 20, 16, 18, 25, 23, 17, 21, 20, 17, 18, 16, 21, 19, 23, 16, 24],\n    [18, 21, 19, 15, 25, 22, 15, 20, 18, 24, 21, 19, 25, 19, 19, 15, 15, 16, 25, 20, 23, 22, 17, 23, 16, 25, 16, 25, 24, 17],\n    [20, 22, 24, 17, 19, 18, 15, 15, 21, 23, 22, 22, 24, 17, 25, 15, 25, 25, 16, 24, 19, 25, 22, 15, 18, 17, 20, 24, 21, 23],\n    [24, 18, 24, 16, 24, 21, 16, 15, 19, 25, 17, 16, 22, 22, 24, 25, 15, 19, 18, 18, 22, 18, 23, 23, 17, 20, 17, 15, 23, 22],\n    [21, 20, 25, 17, 21, 22, 23, 23, 15, 23, 23, 23, 18, 24, 21, 25, 16, 17, 23, 23, 19, 22, 16, 22, 16, 15, 22, 22, 23, 24],\n    [25, 24, 23, 22, 17, 18, 25, 18, 18, 17, 17, 22, 22, 24, 17, 21, 18, 24, 23, 21, 22, 22, 16, 16, 23, 24, 19, 16, 17, 22],\n    [16, 18, 25, 25, 15, 22, 18, 15, 19, 17, 23, 20, 22, 16, 19, 18, 17, 20, 23, 15, 21, 22, 19, 22, 21, 18, 22, 24, 21, 18],\n    [20, 16, 25, 19, 17, 20, 15, 16, 24, 17, 20, 15, 22, 20, 15, 24, 15, 19, 22, 18, 19, 25, 19, 21, 21, 24, 22, 23, 24, 19],\n    [25, 22, 24, 20, 18, 24, 23, 17, 16, 24, 16, 24, 15, 24, 17, 16, 18, 16, 17, 21, 24, 21, 17, 20, 16, 20, 17, 16, 18, 21]\n]\n\ndeployment_requirement_matrix = [\n    [14, 18, 20, 16, 18, 17, 21, 25, 16, 22, 9, 25, 7, 16, 24, 5, 9, 13, 10, 8, 24, 20, 21, 8, 11, 22, 24, 13, 13, 14],\n    [25, 25, 6, 5, 21, 25, 24, 12, 14, 19, 15, 12, 19, 5, 16, 8, 19, 9, 11, 6, 15, 22, 16, 7, 12, 15, 21, 18, 17, 5],\n    [10, 8, 15, 8, 12, 25, 8, 19, 12, 11, 16, 15, 22, 25, 15, 20, 16, 8, 18, 21, 22, 17, 12, 18, 5, 5, 5, 24, 11, 6],\n    [25, 11, 23, 9, 18, 18, 19, 25, 25, 16, 17, 24, 6, 10, 17, 18, 7, 14, 25, 23, 9, 7, 12, 8, 16, 17, 15, 11, 24, 17],\n    [12, 5, 13, 14, 5, 7, 10, 21, 8, 12, 20, 6, 15, 7, 7, 24, 23, 7, 25, 15, 13, 16, 6, 23, 8, 14, 10, 10, 23, 13],\n    [15, 17, 15, 10, 24, 12, 10, 8, 22, 10, 18, 25, 16, 24, 17, 13, 16, 24, 22, 13, 23, 22, 10, 9, 19, 16, 12, 15, 21, 7],\n    [13, 24, 17, 19, 21, 11, 15, 21, 11, 13, 6, 19, 23, 11, 16, 15, 19, 14, 17, 6, 11, 8, 16, 17, 6, 15, 23, 23, 14, 11],\n    [15, 17, 25, 23, 21, 7, 24, 18, 20, 24, 8, 20, 7, 22, 17, 17, 7, 20, 15, 20, 15, 15, 8, 9, 14, 25, 20, 14, 10, 16],\n    [17, 13, 14, 7, 16, 16, 19, 22, 23, 17, 24, 22, 11, 13, 22, 12, 22, 19, 15, 6, 21, 14, 21, 13, 21, 13, 9, 21, 8, 17],\n    [5, 14, 21, 9, 5, 9, 16, 11, 24, 14, 10, 22, 18, 19, 16, 10, 6, 12, 7, 14, 12, 22, 12, 21, 19, 16, 9, 15, 8, 22]\n]\n\nhub_deployment_capacities = [38, 35, 34, 38, 31, 38, 36, 39, 39, 33]\n\nmodel = Model()\nmanifest_hub_assignments = intvar(1, num_hubs, shape=num_manifests)\n\nfor i in range(num_hubs):\n    hub_deployments = sum(deployment_requirement_matrix[i][j] * (manifest_hub_assignments[j] == i + 1) for j in range(num_manifests))\n    model += hub_deployments <= hub_deployment_capacities[i]\n\ntotal_revenue = sum(sum(revenue_matrix[i][j] * (manifest_hub_assignments[j] == i + 1) for i in range(num_hubs)) for j in range(num_manifests))\nmodel.maximize(total_revenue)\n\nif model.solve():\n    result = {\n        \"manifest_hub_assignments\": [int(manifest_hub_assignments[j].value()) for j in range(num_manifests)],\n        \"total_revenue\": int(total_revenue.value())\n    }\n    print(json.dumps(result))\nelse:\n    print(json.dumps({\"error\": \"No solution found\"}))",
  "evaluation_function": "def evaluate(candidate_solution, structured_data, reference_solution):\n    import json\n    \n    try:\n        solution = json.loads(candidate_solution) if isinstance(candidate_solution, str) else candidate_solution\n    except:\n        return {\"is_valid\": False, \"validation_errors\": [\"Invalid JSON format\"], \"optimality_score\": 0.0}\n    \n    required_fields = [\"manifest_hub_assignments\", \"total_revenue\"]\n    missing = [f for f in required_fields if solution is None or f not in solution]\n    if missing:\n        return {\"is_valid\": False, \"validation_errors\": [f\"Missing fields: {missing}\"], \"optimality_score\": 0.0}\n    \n    try:\n        assignments = solution[\"manifest_hub_assignments\"]\n        total_revenue = solution[\"total_revenue\"]\n        \n        num_hubs = structured_data[\"num_hubs\"]\n        num_manifests = structured_data[\"num_manifests\"]\n        deployment_requirement_matrix = structured_data[\"deployment_requirement_matrix\"]\n        hub_deployment_capacities = structured_data[\"hub_deployment_capacities\"]\n        errors = []\n        \n        if len(assignments) != num_manifests:\n            errors.append(f\"manifest_hub_assignments length mismatch: expected {num_manifests}, got {len(assignments)}\")\n        \n        for i, hub in enumerate(assignments):\n            if not isinstance(hub, int) or hub < 1 or hub > num_hubs:\n                errors.append(f\"Manifest {i}: invalid hub assignment {hub}, must be between 1 and {num_hubs}\")\n        \n        if len(errors) > 0:\n            return {\"is_valid\": False, \"validation_errors\": errors, \"optimality_score\": 0.0}\n        \n        hub_loads = [0] * num_hubs\n        for j in range(num_manifests):\n            hub = assignments[j] - 1\n            hub_loads[hub] += deployment_requirement_matrix[hub][j]\n        \n        for i in range(num_hubs):\n            if hub_loads[i] > hub_deployment_capacities[i]:\n                errors.append(f\"Deployment constraint violated for hub {i+1}: deployment {hub_loads[i]} exceeds capacity {hub_deployment_capacities[i]}\")\n        \n        if len(errors) > 0:\n            optimality_score = 0.0\n        else:\n            optimal_value = reference_solution[\"total_revenue\"]\n            if optimal_value == 0:\n                optimality_score = 1.0 if total_revenue == 0 else 0.0\n            else:\n                gap = abs(optimal_value - total_revenue) / abs(optimal_value)\n                optimality_score = max(0, 1 - gap)\n        \n        return {\n            \"is_valid\": len(errors) == 0,\n            \"validation_errors\": errors,\n            \"optimality_score\": optimality_score\n        }\n        \n    except Exception:\n        return {\"is_valid\": False, \"validation_errors\": [\"Format error in solution data\"], \"optimality_score\": 0.0}"
}