{
  "problem_id": "maximum_independent_set_002",
  "metadata": {
    "problem_type": "Maximum Independent Set Problem",
    "difficulty": "medium"
  },
  "problem_description": "The Metropolitan Academic Institution is undertaking a comprehensive curriculum optimization initiative for the forthcoming academic period, requiring sophisticated temporal allocation of thirty distinct educational modules within a premium scheduling corridor. The institution's administrative coordination committee has identified multifaceted pedagogical incompatibilities that preclude concurrent delivery of certain disciplinary units. The intricate scheduling constraints reveal that educational module 0 (Mathematical Analysis Advanced) exhibits instructional incompatibilities with modules 1, 2, 3, 4, 5, and 6 stemming from singular faculty resource allocation across multiple instructional sections. Educational modules 7, 8, 9, and 10 (Computational Science foundational curricula) demonstrate mutual temporal exclusivity due to shared specialized technological infrastructure requirements. Educational modules 11, 12, 13, 14, and 15 (Experimental Chemistry instructional sequences) experience concurrent scheduling prohibitions arising from limited laboratory instrumentation availability and mandated safety protocol enforcement. Educational modules 16, 17, 18, 19, 20, and 21 constitute a hierarchical knowledge progression framework where sequential dependencies necessitate temporal separation to accommodate adequate cognitive assimilation periods. Furthermore, numerous interdisciplinary scheduling incompatibilities have been documented: module 2 demonstrates resource allocation conflicts with module 26 (faculty sharing), module 26 exhibits infrastructure utilization conflicts with module 8 (facility sharing), module 9 experiences equipment accessibility conflicts with module 27 (technological resource constraints), module 27 demonstrates laboratory scheduling conflicts with module 13 (research facility coordination), module 14 exhibits faculty availability conflicts with module 28 (instructional personnel constraints), module 28 demonstrates spatial utilization conflicts with module 18 (classroom allocation incompatibilities), module 20 experiences resource management conflicts with module 29 (institutional resource constraints), module 29 demonstrates faculty coordination conflicts with module 23 (instructional scheduling incompatibilities), module 4 exhibits laboratory equipment conflicts with module 24 (research instrumentation constraints), module 17 demonstrates faculty allocation conflicts with module 25 (instructional personnel distribution), and module 10 experiences facility utilization conflicts with module 21 (infrastructure sharing limitations). Educational modules 22, 23, 24, and 25 represent autonomous elective selections with minimal scheduling interdependencies. The institution's strategic planning committee seeks to determine the optimal configuration of educational modules that can be simultaneously delivered within the designated premium temporal framework while maintaining complete pedagogical coherence and avoiding all identified scheduling incompatibilities.",
  "solution_format_description": "Print the following fields: - selected_courses: courses in the maximum independent set. - num_selected_courses: number of courses in the maximum independent set.",  
  "structured_data": {
    "num_courses": 30,
    "conflict_pairs": [[0, 1], [0, 2], [0, 3], [0, 4], [0, 5], [0, 6], [7, 8], [7, 9], [7, 10], [8, 9], [8, 10], [9, 10], [11, 12], [11, 13], [11, 14], [11, 15], [12, 13], [12, 14], [12, 15], [13, 14], [13, 15], [14, 15], [16, 17], [16, 18], [16, 19], [16, 20], [16, 21], [17, 18], [17, 19], [17, 20], [17, 21], [18, 19], [18, 20], [18, 21], [19, 20], [19, 21], [20, 21], [2, 26], [26, 8], [9, 27], [27, 13], [14, 28], [28, 18], [20, 29], [29, 23], [4, 24], [17, 25], [10, 21]]
  },
  "reference_solution": {
    "selected_courses": [1, 2, 3, 5, 6, 7, 11, 16, 22, 23, 24, 25, 27, 28],
    "num_selected_courses": 14
  },
  "solver_code": "from cpmpy import *\nimport json\n\nnum_courses = 30\nconflict_pairs = [[0, 1], [0, 2], [0, 3], [0, 4], [0, 5], [0, 6], [7, 8], [7, 9], [7, 10], [8, 9], [8, 10], [9, 10], [11, 12], [11, 13], [11, 14], [11, 15], [12, 13], [12, 14], [12, 15], [13, 14], [13, 15], [14, 15], [16, 17], [16, 18], [16, 19], [16, 20], [16, 21], [17, 18], [17, 19], [17, 20], [17, 21], [18, 19], [18, 20], [18, 21], [19, 20], [19, 21], [20, 21], [2, 26], [26, 8], [9, 27], [27, 13], [14, 28], [28, 18], [20, 29], [29, 23], [4, 24], [17, 25], [10, 21]]\n\nmodel = Model()\nx = boolvar(shape=num_courses)\n\nfor edge in conflict_pairs:\n    u, v = edge[0], edge[1]\n    model += x[u] + x[v] <= 1\n\nmodel.maximize(sum(x[i] for i in range(num_courses)))\n\nif model.solve():\n    selected_courses = [i for i in range(num_courses) if x[i].value()]\n    result = {\n        \"selected_courses\": selected_courses,\n        \"num_selected_courses\": len(selected_courses)\n    }\n    print(json.dumps(result))\nelse:\n    print(\"No solution found\")",
  "evaluation_function": "def evaluate(candidate_solution, structured_data, reference_solution):\n    import json\n    \n    try:\n        solution = json.loads(candidate_solution) if isinstance(candidate_solution, str) else candidate_solution\n    except:\n        return {\"is_valid\": False, \"validation_errors\": [\"Invalid JSON format\"], \"optimality_score\": 0.0}\n    \n    required_fields = [\"selected_courses\", \"num_selected_courses\"]\n    missing = [f for f in required_fields if solution is None or f not in solution]\n    if missing:\n        return {\"is_valid\": False, \"validation_errors\": [f\"Missing fields: {missing}\"], \"optimality_score\": 0.0}\n    \n    try:\n        selected_courses = solution[\"selected_courses\"]\n        num_selected_courses = solution[\"num_selected_courses\"]\n        conflict_pairs = structured_data[\"conflict_pairs\"]\n        num_courses = structured_data[\"num_courses\"]\n        valid_courses = set(range(num_courses))\n        errors = []\n        \n        if not isinstance(selected_courses, list):\n            errors.append(\"selected_courses must be a list\")\n        \n        if num_selected_courses != len(selected_courses):\n            errors.append(f\"num_selected_courses inconsistency: declared {num_selected_courses}, actual {len(selected_courses)}\")\n        \n        for course in selected_courses:\n            if course not in valid_courses:\n                errors.append(f\"Course {course} does not exist in problem\")\n        \n        if len(selected_courses) != len(set(selected_courses)):\n            errors.append(\"Duplicate courses in selected_courses\")\n        \n        edge_set = set()\n        for edge in conflict_pairs:\n            u, v = edge[0], edge[1]\n            edge_set.add((min(u, v), max(u, v)))\n        \n        for i in range(len(selected_courses)):\n            for j in range(i + 1, len(selected_courses)):\n                u, v = selected_courses[i], selected_courses[j]\n                if (min(u, v), max(u, v)) in edge_set:\n                    errors.append(f\"Independence constraint violated: conflict exists between courses {u} and {v}\")\n        \n        if len(errors) > 0:\n            return {\n                \"is_valid\": False,\n                \"validation_errors\": errors,\n                \"optimality_score\": 0.0\n            }\n        \n        optimal_size = reference_solution[\"num_selected_courses\"]\n        if optimal_size == 0:\n            optimality_score = 1.0 if num_selected_courses == 0 else 0.0\n        else:\n            gap = abs(optimal_size - num_selected_courses) / abs(optimal_size)\n            optimality_score = max(0, 1 - gap)\n        \n        return {\n            \"is_valid\": True,\n            \"validation_errors\": [],\n            \"optimality_score\": optimality_score\n        }\n        \n    except Exception as e:\n        return {\"is_valid\": False, \"validation_errors\": [\"Format error in solution data\"], \"optimality_score\": 0.0}"
  }
