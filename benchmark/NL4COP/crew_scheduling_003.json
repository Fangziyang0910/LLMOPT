{
  "problem_id": "crew_scheduling_003",
  "metadata": {
    "problem_type": "Crew Scheduling Problem",
    "difficulty": "medium"
  },
  "problem_description": "A major international aviation hub is implementing an advanced workforce optimization system for its ground operations division, which manages aircraft turnaround activities including fuel services, luggage handling, cabin sanitation, and in-flight catering provisions. The operation encompasses 35 distinct service interventions that must be executed according to precise temporal windows dictated by flight arrival and departure schedules. The facility maintains 19 specialized ground service teams available for deployment. Each team operates under continuous duty cycles constrained by regulatory limitations to 480 minutes maximum service duration to ensure operational safety and personnel welfare. Relocation of service teams between aircraft positions incurs temporal overhead expenses encompassing airfield transit duration and equipment reconfiguration intervals. The airport operations management seeks to optimize the allocation of all 35 service interventions across the 19 available teams to minimize cumulative temporal expenditure associated with team repositioning, while maintaining compliance with operational protocols: 1. Each service intervention must be exclusively assigned to a single team. 2. Interventions allocated to identical teams must be temporally segregated without temporal overlap. 3. Aggregate service duration for any team (commencing from initial intervention initiation through final intervention conclusion) shall not exceed the 480-minute regulatory threshold. Service interventions are systematically indexed from 0 through 34, with temporal execution parameters specified as follows (chronological measurements referenced from operational baseline): Intervention 0 commences at 1.0 minutes concluding at 144.0 minutes; Intervention 1 initiates at 14.0 minutes terminating at 217.0 minutes; Intervention 2 activates at 60.0 minutes concluding at 212.0 minutes; Intervention 3 begins at 97.0 minutes ending at 118.0 minutes; Intervention 4 starts at 134.0 minutes finishing at 365.0 minutes; Intervention 5 engages at 138.0 minutes completing at 325.0 minutes; Intervention 6 launches at 143.0 minutes finalizing at 272.0 minutes; Intervention 7 operates from 144.0 minutes through 364.0 minutes; Intervention 8 functions between 220.0 minutes and 255.0 minutes; Intervention 9 processes from 231.0 minutes to 400.0 minutes; Intervention 10 executes between 264.0 minutes and 478.0 minutes; Intervention 11 performs from 301.0 minutes through 531.0 minutes; Intervention 12 conducts from 324.0 minutes to 444.0 minutes; Intervention 13 runs between 342.0 minutes and 534.0 minutes; Intervention 14 operates from 402.0 minutes through 576.0 minutes; Intervention 15 functions between 405.0 minutes and 465.0 minutes; Intervention 16 processes from 410.0 minutes to 462.0 minutes; Intervention 17 executes between 414.0 minutes and 463.0 minutes; Intervention 18 performs from 419.0 minutes through 507.0 minutes; Intervention 19 conducts from 445.0 minutes to 606.0 minutes; Intervention 20 runs between 461.0 minutes and 652.0 minutes; Intervention 21 operates from 499.0 minutes through 724.0 minutes; Intervention 22 functions between 541.0 minutes and 693.0 minutes; Intervention 23 processes from 553.0 minutes to 747.0 minutes; Intervention 24 executes between 554.0 minutes and 615.0 minutes; Intervention 25 performs from 574.0 minutes through 689.0 minutes; Intervention 26 conducts from 576.0 minutes to 708.0 minutes; Intervention 27 runs between 632.0 minutes and 691.0 minutes; Intervention 28 operates from 656.0 minutes through 726.0 minutes; Intervention 29 functions between 674.0 minutes and 786.0 minutes; Intervention 30 processes from 711.0 minutes to 765.0 minutes; Intervention 31 executes between 766.0 minutes and 791.0 minutes; Intervention 32 performs from 775.0 minutes through 882.0 minutes; Intervention 33 conducts from 871.0 minutes to 951.0 minutes; Intervention 34 runs between 886.0 minutes and 927.0 minutes. The complete transition time specifications between aircraft service interventions are as follows. From Intervention 0: 16.9 minutes to Intervention 8, 13.1 minutes to Intervention 9. From Intervention 1: 15.5 minutes to Intervention 11, 34.6 minutes to Intervention 15, 30.0 minutes to Intervention 16. From Intervention 2: 21.9 minutes to Intervention 11, 24.5 minutes to Intervention 12, 27.4 minutes to Intervention 14, 31.9 minutes to Intervention 15, 36.0 minutes to Intervention 16, 34.7 minutes to Intervention 17. From Intervention 3: 18.7 minutes to Intervention 8, 17.8 minutes to Intervention 9, 28.7 minutes to Intervention 10, 28.8 minutes to Intervention 11, 39.0 minutes to Intervention 12, 34.9 minutes to Intervention 13, 52.9 minutes to Intervention 14, 46.2 minutes to Intervention 15, 58.6 minutes to Intervention 16, 47.1 minutes to Intervention 17. From Intervention 4: 7.7 minutes to Intervention 17. From Intervention 5: 13.0 minutes to Intervention 13, 12.1 minutes to Intervention 14, 10.9 minutes to Intervention 15. From Intervention 6: 14.8 minutes to Intervention 13, 20.3 minutes to Intervention 14, 15.4 minutes to Intervention 15, 17.0 minutes to Intervention 16, 25.4 minutes to Intervention 17, 30.7 minutes to Intervention 18. From Intervention 7: 9.1 minutes to Intervention 15. From Intervention 8: 6.1 minutes to Intervention 10, 20.3 minutes to Intervention 13, 23.6 minutes to Intervention 14, 29.7 minutes to Intervention 15, 28.5 minutes to Intervention 16, 34.2 minutes to Intervention 17, 30.3 minutes to Intervention 18, 42.7 minutes to Intervention 20, 56.0 minutes to Intervention 22, 57.1 minutes to Intervention 23. From Intervention 9: 8.2 minutes to Intervention 18, 24.5 minutes to Intervention 20, 16.3 minutes to Intervention 22, 30.3 minutes to Intervention 23, 32.7 minutes to Intervention 24. From Intervention 10: 2.6 minutes to Intervention 19, 14.2 minutes to Intervention 24. From Intervention 11: 2.3 minutes to Intervention 21, 8.3 minutes to Intervention 24. From Intervention 12: 12.8 minutes to Intervention 20, 20.9 minutes to Intervention 21, 17.0 minutes to Intervention 22, 17.5 minutes to Intervention 23, 18.4 minutes to Intervention 24, 28.0 minutes to Intervention 25, 23.8 minutes to Intervention 26. From Intervention 13: 2.2 minutes to Intervention 21. From Intervention 14: 30.1 minutes to Intervention 29. From Intervention 15: 13.7 minutes to Intervention 20, 14.4 minutes to Intervention 21, 12.5 minutes to Intervention 22, 21.7 minutes to Intervention 26, 27.8 minutes to Intervention 27, 30.5 minutes to Intervention 28. From Intervention 16: 5.8 minutes to Intervention 18, 15.2 minutes to Intervention 20, 15.0 minutes to Intervention 22, 18.1 minutes to Intervention 24, 23.2 minutes to Intervention 26. From Intervention 17: 17.0 minutes to Intervention 21, 9.7 minutes to Intervention 22, 20.6 minutes to Intervention 25. From Intervention 18: 4.8 minutes to Intervention 22, 19.0 minutes to Intervention 25. From Intervention 19: 28.6 minutes to Intervention 29. From Intervention 20: 22.0 minutes to Intervention 29. From Intervention 21: 29.8 minutes to Intervention 29. From Intervention 22: 12.4 minutes to Intervention 30, 19.3 minutes to Intervention 31. From Intervention 23: 18.1 minutes to Intervention 30, 26.5 minutes to Intervention 31. From Intervention 24: 16.0 minutes to Intervention 28, 30.4 minutes to Intervention 30. From Intervention 25: 10.4 minutes to Intervention 30. From Intervention 26: 8.6 minutes to Intervention 30. From Intervention 27: 22.6 minutes to Intervention 31, 17.1 minutes to Intervention 32. From Intervention 28: 10.1 minutes to Intervention 32. From Intervention 29: 17.1 minutes to Intervention 32. Additional transition times include: 23.69 minutes from Intervention 0 to 6, 24.09 minutes from Intervention 1 to 7, 23.79 minutes from Intervention 2 to 8, 25.29 minutes from Intervention 3 to 4, 25.29 minutes from Intervention 5 to 18, 24.79 minutes from Intervention 6 to 11, 24.79 minutes from Intervention 8 to 9, 26.79 minutes from Intervention 10 to 25, 26.49 minutes from Intervention 12 to 20, 27.29 minutes from Intervention 13 to 27, 26.59 minutes from Intervention 14 to 18, 26.89 minutes from Intervention 15 to 21, 27.19 minutes from Intervention 16 to 22, 27.39 minutes from Intervention 17 to 23, 27.79 minutes from Intervention 19 to 24, 28.99 minutes from Intervention 25 to 29, 29.49 minutes from Intervention 27 to 30, 29.39 minutes from Intervention 28 to 31, 30.59 minutes from Intervention 30 to 32, and 30.69 minutes from Intervention 31 to 33.",  
  "solution_format_description": "Print the following fields: - crews: task assignments for each crew. - total_travel_time: total travel time between tasks.",
  "structured_data": {
    "num_crews": 19,
    "shift_duration_limit": 480,
    "tasks": [
      [1, 144], [14, 217], [60, 212], [97, 118], [134, 365], [138, 325], [143, 272], [144, 364],
      [220, 255], [231, 400], [264, 478], [301, 531], [324, 444], [342, 534], [402, 576], [405, 465],
      [410, 462], [414, 463], [419, 507], [445, 606], [461, 652], [499, 724], [541, 693], [553, 747],
      [554, 615], [574, 689], [576, 708], [632, 691], [656, 726], [674, 786], [711, 765], [766, 791],
      [775, 882], [871, 951], [886, 927]
    ],
    "transition_costs": [
      [0, 8, 16.9], [0, 9, 13.1], [1, 11, 15.5], [1, 15, 34.6], [1, 16, 30], [2, 11, 21.9],
      [2, 12, 24.5], [2, 14, 27.4], [2, 15, 31.9], [2, 16, 36], [2, 17, 34.7], [3, 8, 18.7],
      [3, 9, 17.8], [3, 10, 28.7], [3, 11, 28.8], [3, 12, 39], [3, 13, 34.9], [3, 14, 52.9],
      [3, 15, 46.2], [3, 16, 58.6], [3, 17, 47.1], [4, 17, 7.7], [5, 13, 13], [5, 14, 12.1],
      [5, 15, 10.9], [6, 13, 14.8], [6, 14, 20.3], [6, 15, 15.4], [6, 16, 17], [6, 17, 25.4],
      [6, 18, 30.7], [7, 15, 9.1], [8, 10, 6.1], [8, 13, 20.3], [8, 14, 23.6], [8, 15, 29.7],
      [8, 16, 28.5], [8, 17, 34.2], [8, 18, 30.3], [8, 20, 42.7], [8, 22, 56], [8, 23, 57.1],
      [9, 18, 8.2], [9, 20, 24.5], [9, 22, 16.3], [9, 23, 30.3], [9, 24, 32.7], [10, 19, 2.6],
      [10, 24, 14.2], [11, 21, 2.3], [11, 24, 8.3], [12, 20, 12.8], [12, 21, 20.9], [12, 22, 17],
      [12, 23, 17.5], [12, 24, 18.4], [12, 25, 28], [12, 26, 23.8], [13, 21, 2.2], [14, 29, 30.1],
      [15, 20, 13.7], [15, 21, 14.4], [15, 22, 12.5], [15, 26, 21.7], [15, 27, 27.8], [15, 28, 30.5],
      [16, 18, 5.8], [16, 20, 15.2], [16, 22, 15], [16, 24, 18.1], [16, 26, 23.2], [17, 21, 17],
      [17, 22, 9.7], [17, 25, 20.6], [18, 22, 4.8], [18, 25, 19], [19, 29, 28.6], [20, 29, 22],
      [21, 29, 29.8], [22, 30, 12.4], [22, 31, 19.3], [23, 30, 18.1], [23, 31, 26.5], [24, 28, 16],
      [24, 30, 30.4], [25, 30, 10.4], [26, 30, 8.6], [27, 31, 22.6], [27, 32, 17.1], [28, 32, 10.1],
      [29, 32, 17.1], [0, 6, 23.69], [1, 7, 24.09], [2, 8, 23.79], [3, 4, 25.29], [5, 18, 25.29],
      [6, 11, 24.79], [8, 9, 24.79], [10, 25, 26.79], [12, 20, 26.49], [13, 27, 27.29], [14, 18, 26.59],
      [15, 21, 26.89], [16, 22, 27.19], [17, 23, 27.39], [19, 24, 27.79], [25, 29, 28.99], [27, 30, 29.49],
      [28, 31, 29.39], [30, 32, 30.59], [31, 33, 30.69]
    ]
  },
  "reference_solution": {
    "crews": [
      [0, 8, 10],
      [1],
      [2, 11],
      [3],
      [4, 17],
      [5, 14],
      [6, 13],
      [7, 15],
      [9, 18, 22],
      [12, 20, 29],
      [16, 24, 28, 32],
      [19],
      [21],
      [23],
      [25, 30],
      [26],
      [27, 31],
      [33],
      [34]
    ],
    "total_travel_time": 213.6
  },
  "solver_code": "",
  "evaluation_function": "def evaluate(candidate_solution, structured_data, reference_solution):\n    import json\n    \n    try:\n        solution = json.loads(candidate_solution) if isinstance(candidate_solution, str) else candidate_solution\n    except:\n        return {\"is_valid\": False, \"validation_errors\": [\"Invalid JSON format\"], \"optimality_score\": 0.0}\n    \n    required_fields = [\"crews\", \"total_travel_time\"]\n    missing = [f for f in required_fields if solution is None or f not in solution]\n    if missing:\n        return {\"is_valid\": False, \"validation_errors\": [f\"Missing fields: {missing}\"], \"optimality_score\": 0.0}\n    \n    try:\n        crews = solution[\"crews\"]\n        total_travel_time = solution[\"total_travel_time\"]\n        num_crews = structured_data[\"num_crews\"]\n        shift_duration_limit = structured_data[\"shift_duration_limit\"]\n        tasks = structured_data[\"tasks\"]\n        transition_costs = structured_data[\"transition_costs\"]\n        \n        errors = []\n        \n        if len(crews) != num_crews:\n            errors.append(f\"Invalid number of crews: expected {num_crews}, got {len(crews)}\")\n        \n        all_tasks = []\n        for crew in crews:\n            all_tasks.extend(crew)\n        \n        expected_tasks = set(range(len(tasks)))\n        actual_tasks = set(all_tasks)\n        \n        if len(all_tasks) != len(tasks):\n            errors.append(f\"Wrong number of tasks: expected {len(tasks)}, got {len(all_tasks)}\")\n        \n        if actual_tasks != expected_tasks:\n            missing_tasks = expected_tasks - actual_tasks\n            extra_tasks = actual_tasks - expected_tasks\n            if missing_tasks:\n                errors.append(f\"Missing tasks: {sorted(missing_tasks)}\")\n            if extra_tasks:\n                errors.append(f\"Extra tasks: {sorted(extra_tasks)}\")\n        \n        cost_matrix = {}\n        for i, j, cost in transition_costs:\n            cost_matrix[(i, j)] = cost\n        \n        total_transition_cost = 0\n        for crew_idx, crew in enumerate(crews):\n            if not crew:\n                errors.append(f\"Crew {crew_idx + 1} has no tasks\")\n                continue\n            \n            crew_execution_order = crew\n            crew_sorted_by_time = sorted(crew, key=lambda task_id: tasks[task_id][0])\n            \n            for i in range(len(crew_sorted_by_time) - 1):\n                current_task_id = crew_sorted_by_time[i]\n                next_task_id = crew_sorted_by_time[i + 1]\n                \n                current_end = tasks[current_task_id][1]\n                next_start = tasks[next_task_id][0]\n                \n                if current_end > next_start:\n                    errors.append(f\"Time overlap in crew {crew_idx + 1}: task {current_task_id} ends at {current_end} but task {next_task_id} starts at {next_start}\")\n\n            for i in range(len(crew_sorted_by_time) - 1):\n                from_task_id = crew_sorted_by_time[i]\n                to_task_id = crew_sorted_by_time[i + 1]\n                \n                if (from_task_id, to_task_id) in cost_matrix:\n                    total_transition_cost += cost_matrix[(from_task_id, to_task_id)]\n            \n            if crew_sorted_by_time:\n                first_task_idx = crew_sorted_by_time[0]\n                last_task_idx = crew_sorted_by_time[-1]\n                duty_time = tasks[last_task_idx][1] - tasks[first_task_idx][0]\n                if duty_time > shift_duration_limit:\n                    errors.append(f\"Duty time exceeded in crew {crew_idx + 1}: {duty_time} > {shift_duration_limit}\")\n        \n        if abs(total_transition_cost - total_travel_time) > 1e-6:\n            errors.append(f\"Travel time inconsistency: calculated {total_transition_cost}, declared {total_travel_time}\")\n        \n        reference_cost = 0\n        reference_crews = reference_solution[\"crews\"]\n        for ref_crew in reference_crews:\n            if len(ref_crew) > 1:\n                ref_crew_sorted = sorted(ref_crew, key=lambda task_id: tasks[task_id][0])\n                for i in range(len(ref_crew_sorted) - 1):\n                    from_task_id = ref_crew_sorted[i]\n                    to_task_id = ref_crew_sorted[i + 1]\n                    if (from_task_id, to_task_id) in cost_matrix:\n                        reference_cost += cost_matrix[(from_task_id, to_task_id)]\n        \n        if len(errors) > 0:\n            optimality_score = 0.0\n        else:\n            if reference_cost == 0:\n                optimality_score = 1.0 \n            else:\n                gap = (reference_cost - total_transition_cost) / abs(reference_cost)\n                optimality_score = max(0, 1 - gap)\n        \n        return {\n            \"is_valid\": len(errors) == 0,\n            \"validation_errors\": errors,\n            \"optimality_score\": optimality_score\n        }\n        \n    except Exception as e:\n        return {\"is_valid\": False, \"validation_errors\": [f\"Format error in solution data: {e}\"], \"optimality_score\": 0.0}"
}